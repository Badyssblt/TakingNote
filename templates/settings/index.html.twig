{% extends 'base.html.twig' %}

{% block title %}Hello SettingsController!{% endblock %}

{% block body %}
<div class="flex">
    <div class="w-1/4">
        {% include "dashboard/navbar.html.twig" %}
    </div>
    <main class="flex flex-1 p-3 flex-col">
        <div class="flex flex-row">
            <div class="w-56">
                <h2 class="text-lg font-bold">Informations personelles</h2>
                <p class="text-slate-600 text-sm">Changer les informations de votre compte</p>
            </div>
            <div class="ml-10">
                {{ form_start(personalForm) }}
                <div class="relative mb-3" data-twe-input-wrapper-init>
                    <input
                    type="text"
                    name="{{ field_name(personalForm.email) }}"
                    class="peer bg-white text-black block min-h-[auto] w-full rounded border-0 bg-transparent px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 peer-focus:text-primary data-[twe-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none  dark:placeholder:text-neutral-300 dark:autofill:shadow-autofill dark:peer-focus:text-primary [&:not([data-twe-input-placeholder-active])]:placeholder:opacity-0"
                    id="exampleFormControlInputText"
                    placeholder="{{ field_label(personalForm.email) }}" />
                    <label
                        for="exampleFormControlInputText"
                        class="pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] text-neutral-500 transition-all duration-200 ease-out peer-focus:-translate-y-[0.9rem] peer-focus:scale-[0.8] peer-focus:text-primary peer-data-[twe-input-state-active]:-translate-y-[0.9rem] peer-data-[twe-input-state-active]:scale-[0.8] motion-reduce:transition-none dark:text-neutral-400 dark:peer-focus:text-primary"
                        >{{ field_label(personalForm.email) }}
                    </label>
                </div>
                

                <div class="relative mb-3" data-twe-input-wrapper-init>
                    <input
                    type="text"
                    name="{{ field_name(personalForm.name) }}"
                    class="peer bg-white text-black block min-h-[auto] w-full rounded border-0 bg-transparent px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 peer-focus:text-primary data-[twe-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none  dark:placeholder:text-neutral-300 dark:autofill:shadow-autofill dark:peer-focus:text-primary [&:not([data-twe-input-placeholder-active])]:placeholder:opacity-0"
                    id="exampleFormControlInputText"
                    placeholder="{{ field_label(personalForm.name) }}" />
                <label
                    for="exampleFormControlInputText"
                    class="pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] text-neutral-500 transition-all duration-200 ease-out peer-focus:-translate-y-[0.9rem] peer-focus:scale-[0.8] peer-focus:text-primary peer-data-[twe-input-state-active]:-translate-y-[0.9rem] peer-data-[twe-input-state-active]:scale-[0.8] motion-reduce:transition-none dark:text-neutral-400 dark:peer-focus:text-primary"
                    >{{ field_label(personalForm.name) }}
                </label>
                </div>

                {{ form_row(personalForm.imageFile) }}
                
                <button type="submit" class="flex items-center gap-2 px-4 py-2 text-white bg-indigo-600 rounded-lg duration-150 hover:bg-indigo-500 active:bg-indigo-700">
                    Modifier
                </button>
                {{ form_end(personalForm) }}
            </div>
        </div>
        <div class="flex flex-row mt-6">
            <div class="w-56">
                <h2 class="text-lg font-bold">Changer le mot de passe</h2>
                <p class="text-slate-600 text-sm">Modifier le mot de passe associer à ce compte</p>
            </div>
            <div class="ml-10">
                {{ form_start(passwordForm) }}
                {% set passwordErrors = form_errors(passwordForm.plainPassword) %}
                <div>
                    <label for="password" class="block mb-2 text-sm font-medium text-black">{{ field_label(passwordForm.plainPassword) }}</label>
                    <input type="password" name="{{ field_name(passwordForm.plainPassword) }}" id="password" placeholder="••••••••" class="bg-white border border-black text-black sm:text-sm rounded-lg focus:ring-black focus:border-black block w-full p-2.5" required="">
                    {% if passwordErrors %}
                        <div role="alert" class="rounded border-s-4 border-red-500 bg-red-50 p-4">
                            <strong class="block font-medium text-red-800">Erreur de mot de passe :</strong>
                            <p class="mt-2 text-sm text-red-700">
                                {{ passwordErrors|raw }}
                            </p>
                        </div>
                    {% endif %}
                </div>
                
                
                <button type="submit" class="flex items-center gap-2 px-4 py-2 text-white bg-indigo-600 rounded-lg duration-150 hover:bg-indigo-500 active:bg-indigo-700">
                    Modifier
                </button>
                                {{ form_errors(passwordForm) }}
                {{ form_end(passwordForm) }}
            </div>
        </div>
    </main>
</div>

{% endblock %}
